--- dlls/mfplat/main.c
+++ dlls/mfplat/main.c
@@ -1494,9 +1508,12 @@ HRESULT WINAPI MFStartup(ULONG version, DWORD flags)
 {
 #define MF_VERSION_XP   MAKELONG( MF_API_VERSION, 1 )
 #define MF_VERSION_WIN7 MAKELONG( MF_API_VERSION, 2 )
+    static INIT_ONCE once = INIT_ONCE_STATIC_INIT;
 
     TRACE("%#x, %#x.\n", version, flags);
 
+    InitOnceExecuteOnce(&once, register_winegstreamer_proc, NULL, NULL);
+
     if (version != MF_VERSION_XP && version != MF_VERSION_WIN7)
         return MF_E_BAD_STARTUP_VERSION;
 
